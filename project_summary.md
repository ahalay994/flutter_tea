# Tea App - Информация о проекте

## Общая информация
- Название приложения: "Турбо чайна-бабка" (из .env файла)
- Тип проекта: Flutter приложение для каталогизации и управления информацией о чае
- Платформы: Android и iOS
- Flutter версия: 3.38.9
- Dart версия: 3.10.8

## Основные функции
- Просмотр, добавление и организация информации о чае
- Фильтрация по стране, типу, вкусу, внешнему виду
- База данных с информацией о чае, включая изображения
- Поддержка оффлайн режима
- Кэширование изображений
- Поддержка форматированного текста для описаний чая (временно заменено на обычные текстовые поля)

## Структура проекта
- lib/: основной код приложения
- assets/images/: изображения (включая loader.gif и splash.png)
- android/: настройки Android
- ios/: настройки iOS
- pubspec.yaml: зависимости и ресурсы

## Правки, внесенные в проект

### 1. Экран загрузки (Splash Screen)
- Изображение: splash.png (с изображением чайной плантации)
- Настроено с использованием flutter_native_splash
- Растягивается на весь экран, заполняет пространство

### 2. Анимированный лоадер
- Использует loader.gif
- Обновлен для отображения на всю ширину экрана
- Используется при загрузке данных в приложении

### 3. Иконки приложения
- Заменены на новые с прозрачным фоном
- Размер 500x500
- Обновлены для всех платформ

### 4. Название приложения
- Берется из .env файла (APP_NAME="Турбо чайна-бабка")
- Отображается как на рабочем столе, так и внутри приложения

### 5. Улучшения фильтров
- **Скрытие пустых фильтров** - блоки фильтров скрываются, если в них нет доступных элементов
- **Улучшенные сообщения при отсутствии данных** - более информативные сообщения и кнопка сброса фильтров
- **Отображение количества результатов** при активных фильтрах

### 6. Обновление зависимостей
- Flutter обновлен до версии 3.38.9
- Библиотеки обновлены до последних версий:
  - connectivity_plus: ^7.0.0
  - flutter_launcher_icons: ^0.14.4
  - flutter_quill: ^11.5.0 (временно заменен функционал)
  - остальные библиотеки обновлены до последних совместимых версий

### 7. Улучшения интерфейса
- Более информативные сообщения пользователю при различных состояниях приложения
- Улучшена обработка оффлайн режима
- Добавлена кнопка сброса фильтров при отсутствии результатов

## Настройки сборки (Codemagic)

### Переменные окружения
- Группа переменных: tea-app-variables
- Переменные: SUPABASE_URL, SUPABASE_KEY, API_URL, APP_NAME

### Workflows
1. flutter-android: сборка APK
2. flutter-ios: сборка IPA (создает Runner.app.zip)
3. flutter-multiplatform: сборка для обеих платформ

### Особенности
- Используется flutter build ipa --release --no-codesign
- Создает Runner.app.zip, который можно устанавливать через AltStore
- Не требует Apple Developer Account для создания архива
- Для установки на устройство можно использовать AltStore, Sideloadly и т.п.

## Установка на iOS устройство
1. Скачайте Runner.app.zip из артефактов сборки
2. Извлеките содержимое (папка Runner.app)
3. Используйте AltStore или Sideloadly для установки на устройство
4. Приложение будет работать 7 дней без повторной установки (без Developer Account)

## Установка на Android устройство
1. Скачайте APK файл из артефактов сборки
2. Установите на устройство через менеджер файлов
3. Разрешите установку из неизвестных источников при необходимости

## Совместимость и поддержка
- Приложение было обновлено для работы с последними версиями библиотек
- Временное изменение функциональности редактора форматированного текста из-за несовместимости с новой версией flutter_quill (11.5.0)
- Решение проблемы с FutureProvider и metadataProvider
- Улучшена стабильность и производительность приложения